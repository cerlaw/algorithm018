# Week8学习笔记

## 位运算基础

### 如何从十进制转换为二进制

- 短除法
- 降二次幂及减法混合运算

参考链接：https://zh.wikihow.com/%E4%BB%8E%E5%8D%81%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E8%BF%9B%E5%88%B6

### 位运算符

- 左移：>>
- 右移: <<
- 按位或：|
- 按位与：&
- 按位取反：~
- 按位异或（相同为零不同为一）：^

### 异或的一些特点

- x ^ 0 = x
- x ^ 1s = ~x // 注意 1s = ~0，全1
- x ^ (~x) = 1s
- x ^ x = 0
- c = a ^ b => a ^ c = b, b ^ c = a //交换两个数
- a ^ b ^ c = a ^ (b ^ c) = (a ^ b) ^ c //associative，结合律

### 指定位置的位运算

1. 将x最右边的n位清零：x & (~0 << n)
2. 获取x的第n位值（0或者1）：(x >> n) & 1
3. 获取x的第n位的幂值：x & (1 << n)
4. 仅将第n位置置为1：x | (1 << n)
5. 仅将第n位置置为0： x & (~(1 << n))
6. 将x最高位至第n位（含）清零：x & ((1 << n) - 1)

### 实战位运算要点

- 判断奇偶：
    - x % 2 == 1 -> (x & 1) == 1
    - x % 2 == 0 -> (x & 1) == 0
- x >> 1 -> x / 2
- x = x & (x - 1):清零最低位的1
- x & -x -> 得到最低位的1
- x & ~x -> 0

## 布隆过滤器

### 布隆过滤器 vs HashMap

布隆过滤器是一个很长的**二进制**向量和一系列**随机映射函数**组成。
布隆过滤器可以用于检索一个元素是否在一个集合中。

优点是空间效率和查询时间都远远超过一般的算法。
缺点是有一定的识别错误几率和删除困难。

## LRU Cache

 - 两个元素： 大小、替换策略
 - Hash Table + Double LinkedList
 
 - O(1)查询、O(1)修改、更新 
 
 替换原则：
 - LFU - least frequently used
 - LRU - least recently used
 